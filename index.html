<!DOCTYPE html>
<html lang="en">
<head>
	<title>Управление зависимостями в Python в 2017</title>
	<meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="shower/themes/ribbon/styles/screen-16x10.css">
	<link rel="icon" type="image/png" sizes="192x192"  href="http://igorshevchenko.ru/static/css/icons/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="http://igorshevchenko.ru/static/css/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="http://igorshevchenko.ru/static/css/icons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="http://igorshevchenko.ru/static/css/icons/favicon-16x16.png">
	<style>
		.shower.list {
			background: url(style/texture.png); /* pattern from https://www.toptal.com/designers/subtlepatterns/seamless-paper-texture/ */
		}

		.slide {
			font-size: 35px;
			line-height: 1.75em;
		}

		.slide h2 {
			color: #000000;
		}

		.slide::after {
			visibility: hidden;
		}

		.slide pre.shell code::before {
			position: absolute;
			margin-left: -1em;
			color: #979a9e;
			content: "$";
		}

		.slide.no-top-padding {
			padding-top: 30px;
		}
	</style>
</head>
<body class="shower list">
    <!-- Yandex.Metrika counter --> <script type="text/javascript" > (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter46242456 = new Ya.Metrika({ id:46242456, clickmap:true, trackLinks:true, accurateTrackBounce:true, webvisor:true, trackHash:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks"); </script> <noscript><div><img src="https://mc.yandex.ru/watch/46242456" style="position:absolute; left:-9999px;" alt="" /></div></noscript> <!-- /Yandex.Metrika counter -->
	<header class="caption">
		<h1>Управление зависимостями в Python в 2017</h1>
		<p><a href="http://igorshevchenko.ru">Игорь Шевченко</a>, <a href="https://antidasoftware.com/">Antida software</a></p>
	</header>

	<section class="slide" id="cover">
		<div class="place bottom" id="title">
			<h2>Управление зависимостями в&nbsp;Python в&nbsp;2017</h2>
			<p>Игорь Шевченко, Antida software</p>
		</div>
		<img src="images/cover.svg" class="cover">
		<style>
			#title {
				width: 90%;
				margin-bottom: 20px;
			}
			#cover .cover {
				top: 40%;
			}
			#cover h2 {
				margin: 30px 0 0;
				text-align:center;
				font-size:70px;
				color: #000;
			}
			#cover p {
				margin:10px 0 0;
				text-align:center;
				font-style:italic;
				color: #000;
			}
		</style>
	</section>

	<section class="slide"><h2 class="shout">pip</h2></section>

	<section class="slide">
		<h2>pip</h2>
		<img src="images/stack.svg" height="450" class="cover place bottom">
	</section>

	<section class="slide">
		<h2>pip: установка пакетов</h2>
		<pre class="shell">
			<code>pip install django</code>
			<code>pip install requests</code>
		</pre>
	</section>

	<section class="slide">
		<h2>pip: сохранение в файл</h2>
		<pre class="shell">
			<code>pip freeze > requirements.txt</code>
		</pre>
	</section>

	<section class="slide">
		<h2>requirements.txt</h2>
		<pre style="font-size: 25px;">
			<code>certifi==2017.7.27.1
chardet==3.0.4
Django==1.11.4
idna==2.6
pytz==2017.2
requests==2.18.4
urllib3==1.22</code>
		</pre>
	</section>

	<section class="slide">
		<h2>pip: установка из файла</h2>
		<pre class="shell">
			<code>pip install -r requirements.txt</code>
		</pre>
	</section>

	<section class="slide">
		<h2 class="shout">Проблемы</h2>
	</section>

	<section class="slide">
		<h2>Проблема 1: обновление файла</h2>
		<img src="images/logistics.svg" height="450" class="cover place bottom">
	</section>

	<section class="slide">
		<h2>Проблема 1: npm</h2>
		<pre class="shell">
			<code>npm install jquery <mark>--save</mark></code>
		</pre>
	</section>

	<section class="slide">
		<h2>Проблема 1: решение</h2>
		<pre class="shell" style="font-size: 33px;">
			<code>pip install celery</code>
			<code>pip freeze | grep celery >> requirements.txt</code>
		</pre>
	</section>

	<section class="slide">
		<h2>Проблема 2: глобальная установка пакетов</h2>
		<img src="images/storage.svg" height="450" class="cover place bottom">
	</section>

	<section class="slide">
		<h2>Проблема 2: решение</h2>
		<p>virtualenv</p>
	</section>

	<section class="slide">
		<h2>Проблема 3: фиксирование версий</h2>
		<img src="images/lock.svg" height="450" class="cover place bottom">
	</section>

	<section class="slide">
		<h2>Проблема 3: граф зависимостей</h2>
		<svg width="568pt" height="288pt" viewBox="0.00 0.00 568.22 288.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
			<g id="graph1" class="graph" transform="scale(0.972973 0.972973) rotate(0) translate(4 292)">
			<title>prof</title>
			<polygon fill="white" stroke="white" points="-4,5 -4,-292 581,-292 581,5 -4,5"></polygon>
			<!-- app -->
			<g id="node1" class="node"><title>app</title>
			<polygon fill="none" stroke="black" points="251.335,-277 197.335,-277 197.335,-241 251.335,-241 251.335,-277"></polygon>
			<text text-anchor="middle" x="224.335" y="-254.8" font-family="Times,serif" font-size="14.00">app</text>
			</g>
			<!-- django -->
			<g id="node3" class="node"><title>django</title>
			<polygon fill="none" stroke="black" points="130.414,-162 76.2563,-162 76.2563,-126 130.414,-126 130.414,-162"></polygon>
			<text text-anchor="middle" x="103.335" y="-139.8" font-family="Times,serif" font-size="14.00">django</text>
			</g>
			<!-- app&#45;&gt;django -->
			<g id="edge2" class="edge"><title>app-&gt;django</title>
			<path fill="none" stroke="black" d="M205.958,-240.838C185.525,-221.756 152.367,-190.79 129.292,-169.24"></path>
			<polygon fill="black" stroke="black" points="131.583,-166.591 121.886,-162.324 126.805,-171.707 131.583,-166.591"></polygon>
			</g>
			<!-- requests -->
			<g id="node5" class="node"><title>requests</title>
			<polygon fill="none" stroke="black" points="318.739,-162 257.932,-162 257.932,-126 318.739,-126 318.739,-162"></polygon>
			<text text-anchor="middle" x="288.335" y="-139.8" font-family="Times,serif" font-size="14.00">requests</text>
			</g>
			<!-- app&#45;&gt;requests -->
			<g id="edge4" class="edge"><title>app-&gt;requests</title>
			<path fill="none" stroke="black" d="M234.055,-240.838C244.534,-222.337 261.34,-192.664 273.477,-171.233"></path>
			<polygon fill="black" stroke="black" points="276.641,-172.75 278.524,-162.324 270.55,-169.3 276.641,-172.75"></polygon>
			</g>
			<!-- pytz -->
			<g id="node7" class="node"><title>pytz</title>
			<polygon fill="none" stroke="black" points="72.3353,-47 18.3353,-47 18.3353,-11 72.3353,-11 72.3353,-47"></polygon>
			<text text-anchor="middle" x="45.3353" y="-24.8" font-family="Times,serif" font-size="14.00">pytz</text>
			</g>
			<!-- django&#45;&gt;pytz -->
			<g id="edge6" class="edge"><title>django-&gt;pytz</title>
			<path fill="none" stroke="black" d="M94.5263,-125.838C85.0302,-107.337 69.7998,-77.6638 58.8002,-56.2333"></path>
			<polygon fill="black" stroke="black" points="61.9073,-54.6221 54.2271,-47.3238 55.6797,-57.8186 61.9073,-54.6221"></polygon>
			</g>
			<!-- certifi -->
			<g id="node9" class="node"><title>certifi</title>
			<polygon fill="none" stroke="black" points="191.335,-47 137.335,-47 137.335,-11 191.335,-11 191.335,-47"></polygon>
			<text text-anchor="middle" x="164.335" y="-24.8" font-family="Times,serif" font-size="14.00">certifi</text>
			</g>
			<!-- requests&#45;&gt;certifi -->
			<g id="edge8" class="edge"><title>requests-&gt;certifi</title>
			<path fill="none" stroke="black" d="M269.502,-125.838C248.563,-106.756 214.583,-75.7899 190.935,-54.2402"></path>
			<polygon fill="black" stroke="black" points="193.094,-51.4725 183.345,-47.3238 188.379,-56.6464 193.094,-51.4725"></polygon>
			</g>
			<!-- chardet -->
			<g id="node11" class="node"><title>chardet</title>
			<polygon fill="none" stroke="black" points="316.731,-47 259.94,-47 259.94,-11 316.731,-11 316.731,-47"></polygon>
			<text text-anchor="middle" x="288.335" y="-24.8" font-family="Times,serif" font-size="14.00">chardet</text>
			</g>
			<!-- requests&#45;&gt;chardet -->
			<g id="edge10" class="edge"><title>requests-&gt;chardet</title>
			<path fill="none" stroke="black" d="M288.335,-125.838C288.335,-107.669 288.335,-78.7247 288.335,-57.3944"></path>
			<polygon fill="black" stroke="black" points="291.835,-57.3237 288.335,-47.3238 284.835,-57.3238 291.835,-57.3237"></polygon>
			</g>
			<!-- idna -->
			<g id="node13" class="node"><title>idna</title>
			<polygon fill="none" stroke="black" points="438.335,-47 384.335,-47 384.335,-11 438.335,-11 438.335,-47"></polygon>
			<text text-anchor="middle" x="411.335" y="-24.8" font-family="Times,serif" font-size="14.00">idna</text>
			</g>
			<!-- requests&#45;&gt;idna -->
			<g id="edge12" class="edge"><title>requests-&gt;idna</title>
			<path fill="none" stroke="black" d="M307.016,-125.838C327.787,-106.756 361.493,-75.7899 384.95,-54.2402"></path>
			<polygon fill="black" stroke="black" points="387.482,-56.6666 392.478,-47.3238 382.746,-51.5118 387.482,-56.6666"></polygon>
			</g>
			<!-- urllib3 -->
			<g id="node15" class="node"><title>urllib3</title>
			<polygon fill="none" stroke="black" points="558.335,-47 504.335,-47 504.335,-11 558.335,-11 558.335,-47"></polygon>
			<text text-anchor="middle" x="531.335" y="-24.8" font-family="Times,serif" font-size="14.00">urllib3</text>
			</g>
			<!-- requests&#45;&gt;urllib3 -->
			<g id="edge14" class="edge"><title>requests-&gt;urllib3</title>
			<path fill="none" stroke="black" d="M319.111,-128.688C363.916,-107.853 446.962,-69.2351 494.806,-46.9868"></path>
			<polygon fill="black" stroke="black" points="496.578,-50.0231 504.169,-42.6328 493.626,-43.6758 496.578,-50.0231"></polygon>
			</g>
			</g>
		</svg>

		<!--digraph prof {
        ratio=fill;
        size="8,4";
	app -> django;
	app -> requests;
    django -> pytz;
    requests -> certifi;
    requests -> chardet;
    requests -> idna;
    requests -> urllib3;

    app [shape=box];
    django [shape=box];
    requests [shape=box];
    pytz [shape=box];
    certifi [shape=box];
    chardet [shape=box];
    idna [shape=box];
    urllib3 [shape=box];
} -->
	</section>

	<section class="slide" style="font-size: 30px;">
		<h2>Проблема 3: все зависимости</h2>
		<pre>
			<code>certifi==2017.7.27.1
chardet==3.0.4
Django==1.11.4
idna==2.6
pytz==2017.2
requests==2.18.4
urllib3==1.22</code>
		</pre>
	</section>

	<section class="slide">
		<h2>Проблема 3: основные зависимости</h2>
		<pre>
			<code>django==1.11
requests</code>
		</pre>
	</section>

	<section class="slide">
		<h2>Проблема 3: решение</h2>
		<p>Два файла: requirements.txt и requirements.lock.txt</p>
	</section>

	<section class="slide">
		<h2>Проблема 4: dev-зависимости</h2>
		<img src="images/data-center.svg" height="450" class="cover place bottom">
	</section>

	<section class="slide">
		<h2>Проблема 4: npm</h2>
		<pre class="shell">
			<code>npm install jquery --save</code>
			<code>npm install grunt <mark>--save-dev</mark></code>
		</pre>
	</section>

	<section class="slide">
		<h2>Проблема 4: npm</h2>
		<pre class="shell">
			<code>npm install</code>
			<code>npm install --production</code>
		</pre>
	</section>

	<section class="slide">
		<h2>Проблема 4: решение</h2>
		<p>Два файла: requirements.txt и dev-requirements.txt</p>
	</section>

	<section class="slide">
		<h2>Проблема 4: dev-requirements.txt</h2>
		<pre><code><mark>-r requirements.txt</mark>
pytest==3.2.3</code></pre>
	</section>

	<section class="slide">
		<h2>Проблема 5: ад зависимостей</h2>
		<img src="images/falling.svg" height="450" class="cover place bottom">
	</section>

	<section class="slide">
		<h2>Проблема 5: конфликтующие зависимости</h2>
		<svg width="568pt" height="288pt" viewBox="0.00 0.00 568.22 288.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
			<g id="graph1" class="graph" transform="scale(0.972973 0.972973) rotate(0) translate(4 292)">
			<title>prof</title>
			<polygon fill="white" stroke="white" points="-4,5 -4,-292 581,-292 581,5 -4,5"></polygon>
			<!-- app -->
			<g id="node1" class="node"><title>app</title>
			<polygon fill="none" stroke="black" points="315.195,-277 261.195,-277 261.195,-241 315.195,-241 315.195,-277"></polygon>
			<text text-anchor="middle" x="288.195" y="-254.8" font-family="Times,serif" font-size="14.00">app</text>
			</g>
			<!-- foo -->
			<g id="node3" class="node"><title>foo</title>
			<polygon fill="none" stroke="black" points="190.354,-162 76.0365,-162 76.0365,-126 190.354,-126 190.354,-162"></polygon>
			<text text-anchor="middle" x="133.195" y="-139.8" font-family="Times,serif" font-size="14.00">foo-client==1.2.1</text>
			</g>
			<!-- app&#45;&gt;foo -->
			<g id="edge2" class="edge"><title>app-&gt;foo</title>
			<path fill="none" stroke="black" d="M264.654,-240.838C238.061,-221.451 194.642,-189.797 165.037,-168.214"></path>
			<polygon fill="black" stroke="black" points="166.846,-165.201 156.703,-162.138 162.722,-170.858 166.846,-165.201"></polygon>
			</g>
			<!-- bar -->
			<g id="node5" class="node"><title>bar</title>
			<polygon fill="none" stroke="black" points="499.354,-162 385.036,-162 385.036,-126 499.354,-126 499.354,-162"></polygon>
			<text text-anchor="middle" x="442.195" y="-139.8" font-family="Times,serif" font-size="14.00">foo-client==3.6.6</text>
			</g>
			<!-- app&#45;&gt;bar -->
			<g id="edge4" class="edge"><title>app-&gt;bar</title>
			<path fill="none" stroke="black" d="M311.584,-240.838C338.006,-221.451 381.145,-189.797 410.559,-168.214"></path>
			<polygon fill="black" stroke="black" points="412.847,-170.876 418.839,-162.138 408.706,-165.232 412.847,-170.876"></polygon>
			</g>
			<!-- requests1 -->
			<g id="node7" class="node"><title>requests1</title>
			<polygon fill="none" stroke="black" points="185.441,-47 80.9491,-47 80.9491,-11 185.441,-11 185.441,-47"></polygon>
			<text text-anchor="middle" x="133.195" y="-24.8" font-family="Times,serif" font-size="14.00">requests==2.3.1</text>
			</g>
			<!-- foo&#45;&gt;requests1 -->
			<g id="edge6" class="edge"><title>foo-&gt;requests1</title>
			<path fill="none" stroke="black" d="M133.195,-125.838C133.195,-107.669 133.195,-78.7247 133.195,-57.3944"></path>
			<polygon fill="black" stroke="black" points="136.695,-57.3237 133.195,-47.3238 129.695,-57.3238 136.695,-57.3237"></polygon>
			</g>
			<!-- requests2 -->
			<g id="node9" class="node"><title>requests2</title>
			<polygon fill="none" stroke="black" points="494.441,-47 389.949,-47 389.949,-11 494.441,-11 494.441,-47"></polygon>
			<text text-anchor="middle" x="442.195" y="-24.8" font-family="Times,serif" font-size="14.00">requests==2.5.2</text>
			</g>
			<!-- bar&#45;&gt;requests2 -->
			<g id="edge8" class="edge"><title>bar-&gt;requests2</title>
			<path fill="none" stroke="black" d="M442.195,-125.838C442.195,-107.669 442.195,-78.7247 442.195,-57.3944"></path>
			<polygon fill="black" stroke="black" points="445.695,-57.3237 442.195,-47.3238 438.695,-57.3238 445.695,-57.3237"></polygon>
			</g>
			</g>
			</svg>
		<!--
digraph prof {
        ratio=fill;
        size="8,4";
	app -> foo;
	app -> bar;
        foo -> requests1;
        bar -> requests2;

    app [shape=box];
    foo [shape=box, label="foo-client==1.2.1"];
    bar[shape=box, label="foo-client==3.6.6"];
    requests1[shape=box, label="requests==2.3.1"];
    requests2[shape=box, label="requests==2.5.2"];
} -->
	</section>

	<section class="slide">
		<h2>Проблема 5: решение</h2>
		<p>Всё сложно.</p>
		<p><a href="https://tech.knewton.com/blog/2015/09/the-nine-circles-of-python-dependency-hell/">https://tech.knewton.com/blog/2015/09/the-nine-circles-of-python-dependency-hell/</a></p>

	</section>

	<section class="slide">
		<h2>Проблема 6: тайпосквоттинг</h2>
		<img src="images/inspection.svg" height="450" class="cover place bottom">
	</section>

	<section class="slide">
		<h2>Проблема 6: пример</h2>
		<pre class="shell">
			<code>pip install <mark class="important">djanngo</mark></code>
		</pre>
	</section>

	<section class="slide">
		<h2>Проблема 6: npm</h2>
		<p>Недавно был инцидент с пакетами, ворующими секретные токены</p>
		<p><a href="https://iamakulov.com/notes/npm-malicious-packages/">https://iamakulov.com/notes/npm-malicious-packages/</a></p>
	</section>

	<section class="slide">
		<h2>Проблема 6: решение</h2>
		<p><i>Хорошие ребята</i> сами занимают похожие имена</p>
		<p><a href="https://www.pytosquatting.org/">https://www.pytosquatting.org/</a></p>
	</section>

	<section class="slide">
		<h2 class="shout">2017</h2>
	</section>

	<section class="slide">
		<h2>Pipfile</h2>
		<p><a href="https://github.com/pypa/pipfile">https://github.com/pypa/pipfile</a></p>
	</section>

	<section class="slide">
		<h2>Pipfile: формат файла</h2>
		<pre style="font-size: 16px;"><code>[[source]]
url = 'https://pypi.python.org/simple'
verify_ssl = true

[requires]
python_version = '3.6'

[packages]
requests = { extras = ['socks'] }
Django = '>1.10'

[dev-packages]
pytest = '*'</code></pre>
	</section>

	<section class="slide no-top-padding">
		<pre style="font-size: 23px;"><code>[[source]]
url = 'https://pypi.python.org/simple'
verify_ssl = true

[requires]
python_version = '3.6'

[packages]
requests = { extras = ['socks'] }
Django = '>1.10'

[dev-packages]
pytest = '*'</code></pre>
	</section>

	<section class="slide">
		<h2>Pipfile: lock-файл</h2>
		<pre style="font-size: 10px;"><code>{
	"_meta": {
		"hash": {
			"sha256": "73d81f4fbe42d1da158c5d4435d9...",
		},
		"requires": [
			{"marker": "python_version", "specifier": "3.6"}
		],
		"sources": [
			{"url": "https://pypi.python.org/simple", "verify_ssl": true},
		]
		},
	"default": [
		{"name": "Django", "version": "1.10.3", "hash": "..."},
		{"name": "requests", "version": "2.12.1", "hash": "..."},
		{"name": "PySocks", "version": "1.5.6", "hash": "..."},
	],
	"development": [
		{"name": "pytest", "version": "3.2.3", "hash": "..."},
	]
}</code></pre>
	</section>

	<section class="slide no-top-padding">
		<pre style="font-size: 14px;"><code>{
	"_meta": {
		"hash": {
			"sha256": "73d81f4fbe42d1da158c5d4435d9...",
		},
		"requires": [
			{"marker": "python_version", "specifier": "3.6"}
		],
		"sources": [
			{"url": "https://pypi.python.org/simple", "verify_ssl": true},
		]
		},
	"default": [
		{"name": "Django", "version": "1.10.3", "hash": "..."},
		{"name": "requests", "version": "2.12.1", "hash": "..."},
		{"name": "PySocks", "version": "1.5.6", "hash": "..."},
	],
	"development": [
		{"name": "pytest", "version": "3.2.3", "hash": "..."},
	]
}</code></pre>
	</section>

	<section class="slide">
		<h2 class="shout">pipenv</h2>
	</section>

	<section class="slide">
		<h2>pipenv</h2>
		<p>pipenv = pip + Pipfile + virtualenv</p>
		<p><a href="https://github.com/kennethreitz/pipenv">https://github.com/kennethreitz/pipenv</a></p>
	</section>

	<section class="slide">
		<h2>pipenv: установка</h2>
		<pre class="shell"><code>pip install pipenv</code></pre>
	</section>

	<section class="slide">
		<h2>pipenv: старт проекта</h2>
		<pre class="shell">
			<code>cd my_project</code><code>pipenv install</code>
		</pre>
	</section>

	<section class="slide">
		<h2>pipenv: добавление пакета</h2>
		<pre class="shell"><code>pipenv install django</code><code>pipenv install pytest --dev</code></pre>
	</section>

	<section class="slide">
		<h2>pipenv: обновление лок-файла</h2>
		<pre class="shell"><code>pipenv lock</code></pre>
	</section>

	<section class="slide">
		<h2>pipenv: удаление пакета</h2>
		<pre class="shell"><code>pipenv uninstall django</code></pre>
	</section>

	<section class="slide">
		<h2>pipenv: восстановление среды</h2>
		<pre class="shell"><code>pipenv install</code></pre>
	</section>

	<section class="slide">
		<h2>pipenv: исполнение команд</h2>
		<pre class="shell">
			<code>pipenv shell</code>
			<code class="next">pipenv run python my_project.py</code>
		</pre>
	</section>

	<section class="slide">
		<h2>Проблемы решены</h2>
		<ul>
			<li>Обновление файла ✔</li>
			<li class="next">Глобальная установка пакетов ✔</li>
			<li class="next">Фиксирование версий ✔</li>
			<li class="next">Dev-зависимости ✔</li>
		</ul>
	</section>

	<section class="slide">
		<h2>pipenv: обнаружение конфликтов версий</h2>
		<pre style="font-size: 30px"><code>[[source]]
url = "https://pypi.python.org/simple"
verify_ssl = true

[packages]
idna = "==2.7"
requests = "*"</code></pre>
	</section>

	<section class="slide">
		<h2>pipenv: обнаружение конфликтов версий</h2>
		<pre class="shell" style="font-size: 19px;">
			<code>pipenv install
Locking [dev-packages] dependencies…
Locking [packages] dependencies…
<mark>CRITICAL:pip.index:Could not find a version that satisfies the requirement
 idna==2.7</mark> (from versions: 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 1.1, 2.0
 2.1, 2.2, 2.3, 2.4, 2.5, 2.6)
Warning: Your dependencies could not be resolved. You likely have a mismatch in
 your sub-dependencies. You can use $ pipenv install --skip-lock to bypass
 this mechanism, then run $ pipenv graph to inspect the situation.</code>
		</pre>
	</section>

	<section class="slide">
		<h2>Проблемы решены</h2>
		<ul>
			<li>Обновление файла ✔</li>
			<li>Глобальная установка пакетов ✔</li>
			<li>Фиксирование версий ✔</li>
			<li>Dev-зависимости ✔</li>
			<li>Ад зависимостей ✔</li>
		</ul>
	</section>

	<section class="slide">
		<h2>pipenv: защита от тайпосквоттинга</h2>
		<pre class="shell">
			<code>pipenv install <mark class="important">djanngo</mark>
Did you mean <mark>django</mark>? [Y/n]:
			</code>
		</pre>
	</section>

	<section class="slide">
		<h2>Проблемы решены</h2>
		<ul>
			<li>Обновление файла ✔</li>
			<li>Глобальная установка пакетов ✔</li>
			<li>Фиксирование версий ✔</li>
			<li>Dev-зависимости ✔</li>
			<li>Ад зависимостей ✔</li>
			<li>Тайпосквоттинг ✔</li>
		</ul>
	</section>

	<section class="slide">
		<h2 class="shout">Дополнительные фичи</h2>
	</section>

	<section class="slide">
		<h2>Безопасность: проверка хешей</h2>
		<img src="images/security.svg" height="450" class="cover place bottom">
	</section>

	<section class="slide">
		<h2>Безопасность: оповещение об уязвимостях</h2>
		<img src="images/dog.svg" height="450" class="cover place bottom">
	</section>

	<section class="slide">
		<h2>Условная установка</h2>
		<pre style="font-size: 26px"><code>[[source]]
url = "https://pypi.python.org/simple"
verify_ssl = true

[packages]
requests = "*"
pywinusb = {version = "*", <mark>os_name = "== 'windows'"</mark>}</code></pre>
	</section>

	<section class="slide">
		<h2>Условная установка</h2>
		<pre style="font-size: 14px"><code>[[source]]
url = "https://pypi.python.org/simple"
verify_ssl = true
name = "pypi"

[packages]
unittest2 = {version = ">=1.0,<3.0",
             <mark>markers="python_version < '2.7.9' or (python_version >= '3.0' and python_version < '3.4')"</mark>}
</code></pre>
	</section>

	<section class="slide">
		<h2>Открытие модулей</h2>
		<pre class="shell" style="font-size: 26px"><code>pipenv open requests
<mark>Opening 'C:\\Users\\igor\\.virtualenvs\\pipenv-I9XgK3SA
 \\lib\\site-packages\\requests' in your EDITOR.</mark></code></pre>
	</section>

	<section class="slide">
		<h2>Еще фичи</h2>
		<ul>
			<li>Установка питона нужной версии через pyenv</li>
			<li>Загрузка переменных среды из файла</li>
			<li>Проверка стиля кода</li>
			<li>Генерация requirements.txt из Pipfile</li>
			<li>Работа без virtualenv</li>
			<li>Визуализация дерева зависимостей</li>
			<li>Обнаружение неиспользуемых зависимостей</li>
		</ul>
	</section>

	<section class="slide">
		<h2>Переходите на pipenv!</h2>
		<img src="images/forklift.svg" height="450" class="cover place bottom">
	</section>

	<section class="slide">
		<h2>Вопросы?</h2>
		<div class="at-bottom">
			<p>
				Слайды: <a href="https://igor-shevchenko.github.io/python-deps-2017">https://igor-shevchenko.github.io/python-deps-2017</a>
				<br>
				Почта: <a href="mailto:mail@igorshevchenko.ru">mail@igorshevchenko.ru</a>
				<br>
				Твиттер: <a href="https://twitter.com/igorshevchenko_" class="low-underline">@igorshevchenko_</a>
			</p>
		</div>
		<style>
			.low-underline {
				padding-bottom: 5px;
			}
			.at-bottom {
				position: absolute;
				bottom: 0;
				font-size: 30px;
			}
		</style>
	</section>

	<section class="slide">
		<h2>Спасибо автору картинок</h2>
		<img src="images/artist.svg" height="450" class="cover place bottom">
		<p class="note place left bottom" id="credits">Created by <a href="https://thenounproject.com/leremy">Gan Khoon Lay</a> from <a href="https://thenounproject.com">the Noun Project</a></p>
		<style>
			#credits {
				margin-left: 100px;
			}
			#credits a {
				color: #979a9e;
			}
		</style>
	</section>

	<script src="shower/shower.min.js"></script>

</body>
</html>
